(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{21946:(e,a,s)=>{Promise.resolve().then(s.bind(s,66038))},40646:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},54861:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},66038:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>A});var r=s(95155),t=s(12115),l=s(6874),c=s.n(l),i=s(35695),n=s(83029),o=s(85339),d=s(71007),h=s(28883),m=s(32919),x=s(78749),u=s(92657),g=s(40646),y=s(54861),p=s(20470),b=s(97168),j=s(88482),N=s(89852),w=s(82714),v=s(14503),f=s(50395),k=s(49026);function A(){let[e,a]=(0,t.useState)(""),[s,l]=(0,t.useState)(""),[A,C]=(0,t.useState)(""),[P,S]=(0,t.useState)(""),[z,F]=(0,t.useState)("worker"),[_,T]=(0,t.useState)(!1),[q,E]=(0,t.useState)(!1),[H,J]=(0,t.useState)(!1),[L,G]=(0,t.useState)(""),{signUp:$,signInWithGoogle:B}=(0,f.A)(),{toast:M}=(0,v.dj)(),O=(0,i.useRouter)(),R=A===P,W=A.length>=6,Y=async a=>{if(a.preventDefault(),G(""),!R){G("Passwords don't match. Please make sure your passwords match.");return}if(!W){G("Password must be at least 6 characters long.");return}J(!0);try{let a=await $(s,A,z,e);M({title:"Account created",description:"Your account has been created successfully."}),"manager"===a.role?O.push("/manager"):O.push("/worker")}catch(e){console.error("Signup error:",e),G(e.message)}finally{J(!1)}},Z=async()=>{try{J(!0),G("");let e=await B(z);M({title:"Account created",description:"Your account has been created successfully."}),"manager"===e.role?O.push("/manager"):O.push("/worker")}catch(e){console.error("Google sign-up error:",e),e.message.includes("auth/unauthorized-domain")?G("This domain is not authorized for authentication. Please add it to your Firebase Auth settings."):G(e.message)}finally{J(!1)}};return(0,r.jsx)("div",{className:"flex min-h-screen flex-col items-center justify-center bg-gradient-to-b from-gray-900 to-black p-4",children:(0,r.jsxs)(p.P.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:[(0,r.jsxs)("div",{className:"mb-8 text-center",children:[(0,r.jsx)(p.P.h1,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.5},className:"text-4xl font-bold text-white tracking-tight",children:"Time Tracking System"}),(0,r.jsx)(p.P.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3,duration:.5},className:"text-gray-400 mt-2",children:"Location-based time tracking for care workers"})]}),(0,r.jsx)(p.P.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.5},children:(0,r.jsxs)(j.Zp,{className:"border-gray-800 bg-gray-900/50 backdrop-blur-sm shadow-xl",children:[(0,r.jsxs)(j.aR,{className:"space-y-1",children:[(0,r.jsx)(j.ZB,{className:"text-2xl font-bold text-white",children:"Create an account"}),(0,r.jsx)(j.BT,{className:"text-gray-400",children:"Enter your information to create an account"})]}),L&&(0,r.jsx)("div",{className:"px-6",children:(0,r.jsxs)(k.Fc,{variant:"destructive",className:"bg-red-900/30 border-red-800 text-red-300",children:[(0,r.jsx)(o.A,{className:"h-4 w-4"}),(0,r.jsx)(k.TN,{children:L})]})}),(0,r.jsx)("form",{onSubmit:Y,children:(0,r.jsxs)(j.Wu,{className:"space-y-4 pt-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"name",className:"text-gray-300",children:"Full Name"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(d.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,r.jsx)(N.p,{id:"name",type:"text",placeholder:"Harsha",value:e,onChange:e=>a(e.target.value),className:"pl-10 bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-500 focus:border-blue-600",required:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"email",className:"text-gray-300",children:"Email"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(h.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,r.jsx)(N.p,{id:"email",type:"email",placeholder:"name@example.com",value:s,onChange:e=>l(e.target.value),className:"pl-10 bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-500 focus:border-blue-600",required:!0})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"password",className:"text-gray-300",children:"Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,r.jsx)(N.p,{id:"password",type:_?"text":"password",value:A,onChange:e=>C(e.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-500 focus:border-blue-600",required:!0,minLength:6}),(0,r.jsxs)(b.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-10 w-10 text-gray-500 hover:text-white",onClick:()=>T(!_),children:[_?(0,r.jsx)(x.A,{className:"h-4 w-4"}):(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:_?"Hide password":"Show password"})]})]}),A&&(0,r.jsxs)("div",{className:"flex items-center text-xs",children:[W?(0,r.jsx)(g.A,{className:"h-3 w-3 text-green-500 mr-1"}):(0,r.jsx)(y.A,{className:"h-3 w-3 text-red-500 mr-1"}),(0,r.jsx)("span",{className:W?"text-green-500":"text-red-400",children:"Password must be at least 6 characters"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{htmlFor:"confirmPassword",className:"text-gray-300",children:"Confirm Password"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(m.A,{className:"absolute left-3 top-3 h-4 w-4 text-gray-500"}),(0,r.jsx)(N.p,{id:"confirmPassword",type:q?"text":"password",value:P,onChange:e=>S(e.target.value),className:"pl-10 pr-10 bg-gray-800/50 border-gray-700 text-white placeholder:text-gray-500 focus:border-blue-600",required:!0}),(0,r.jsxs)(b.$,{type:"button",variant:"ghost",size:"icon",className:"absolute right-0 top-0 h-10 w-10 text-gray-500 hover:text-white",onClick:()=>E(!q),children:[q?(0,r.jsx)(x.A,{className:"h-4 w-4"}):(0,r.jsx)(u.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:q?"Hide password":"Show password"})]})]}),P&&(0,r.jsxs)("div",{className:"flex items-center text-xs",children:[R?(0,r.jsx)(g.A,{className:"h-3 w-3 text-green-500 mr-1"}):(0,r.jsx)(y.A,{className:"h-3 w-3 text-red-500 mr-1"}),(0,r.jsx)("span",{className:R?"text-green-500":"text-red-400",children:R?"Passwords match":"Passwords don't match"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(w.J,{className:"text-gray-300",children:"Account Type"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("worker"===z?"border-blue-600 bg-blue-900/20":"border-gray-700 hover:border-gray-600"),onClick:()=>F("worker"),children:[(0,r.jsx)("div",{className:"p-2 rounded-full mb-2 ".concat("worker"===z?"bg-blue-900/50":"bg-gray-800"),children:(0,r.jsx)(d.A,{className:"h-6 w-6 ".concat("worker"===z?"text-blue-400":"text-gray-500")})}),(0,r.jsx)("span",{className:"font-medium ".concat("worker"===z?"text-blue-400":"text-gray-400"),children:"Care Worker"})]}),(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center p-4 rounded-lg border-2 cursor-pointer transition-all ".concat("manager"===z?"border-purple-600 bg-purple-900/20":"border-gray-700 hover:border-gray-600"),onClick:()=>F("manager"),children:[(0,r.jsx)("div",{className:"p-2 rounded-full mb-2 ".concat("manager"===z?"bg-purple-900/50":"bg-gray-800"),children:(0,r.jsx)(d.A,{className:"h-6 w-6 ".concat("manager"===z?"text-purple-400":"text-gray-500")})}),(0,r.jsx)("span",{className:"font-medium ".concat("manager"===z?"text-purple-400":"text-gray-400"),children:"Manager"})]})]})]}),(0,r.jsx)(b.$,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 text-white",disabled:H||!R||!W,children:H?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Creating account..."]}):"Create Account"}),(0,r.jsxs)("div",{className:"relative flex items-center justify-center",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-800"})}),(0,r.jsx)("div",{className:"relative bg-gray-900 px-4 text-sm text-gray-500",children:"Or continue with"})]}),(0,r.jsxs)(b.$,{type:"button",variant:"outline",className:"w-full border-gray-700 bg-gray-800/50 text-white hover:bg-gray-700 hover:text-white",onClick:Z,disabled:H,children:[(0,r.jsx)(n.F4b,{className:"mr-2 h-5 w-5"}),"Google"]})]})}),(0,r.jsx)(j.wL,{className:"flex justify-center border-t border-gray-800 pt-4",children:(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Already have an account?"," ",(0,r.jsx)(c(),{href:"/login",className:"text-blue-500 hover:text-blue-400 hover:underline font-medium",children:"Login"})]})})]})}),L&&L.includes("auth/unauthorized-domain")&&(0,r.jsxs)(p.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6,duration:.5},className:"mt-6 p-4 bg-gray-800/50 rounded-lg border border-gray-700",children:[(0,r.jsx)("h3",{className:"text-white font-medium mb-2",children:"How to fix the unauthorized domain error:"}),(0,r.jsxs)("ol",{className:"list-decimal pl-5 text-gray-400 space-y-1 text-sm",children:[(0,r.jsxs)("li",{children:["Go to the"," ",(0,r.jsx)("a",{href:"https://console.firebase.google.com/",target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline",children:"Firebase Console"})]}),(0,r.jsx)("li",{children:"Select your project"}),(0,r.jsx)("li",{children:"Go to Authentication > Settings > Authorized domains"}),(0,r.jsx)("li",{children:"Add your domain to the list of authorized domains"}),(0,r.jsx)("li",{children:"Save changes and try again"})]})]})]})})}},71007:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(19946).A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])}},e=>{var a=a=>e(e.s=a);e.O(0,[992,888,753,701,52,56,313,441,684,358],()=>a(21946)),_N_E=e.O()}]);